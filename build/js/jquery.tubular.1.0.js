!function(e,t){var a={ratio:16/9,videoId:"ZCAnLxRvNNc",mute:!0,repeat:!0,width:e(t).width(),wrapperZIndex:99,playButtonClass:"tubular-play",pauseButtonClass:"tubular-pause",muteButtonClass:"tubular-mute",volumeUpClass:"tubular-volume-up",volumeDownClass:"tubular-volume-down",increaseVolumeBy:10,start:0},n=function(n,i){var i=e.extend({},a,i),o=e("body");$node=e(n);e("html,body").css({width:"100%",height:"100%"}),o.prepend('<div id="tubular-container" style="overflow: hidden; position: fixed; z-index: 1; width: 100%; height: 100%"><div id="tubular-player" style="position: absolute"></div></div><div id="tubular-shield" style="width: 100%; height: 100%; z-index: 2; position: absolute; left: 0; top: 0;"></div>'),$node.css({position:"relative","z-index":i.wrapperZIndex}),t.player,t.onYouTubeIframeAPIReady=function(){player=new YT.Player("tubular-player",{width:i.width,height:Math.ceil(i.width/i.ratio),videoId:i.videoId,playerVars:{controls:0,showinfo:0,modestbranding:1,wmode:"transparent"},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})},t.onPlayerReady=function(e){u(),i.mute&&e.target.mute(),e.target.seekTo(i.start),e.target.playVideo()},t.onPlayerStateChange=function(e){0===e.data&&i.repeat&&player.seekTo(i.start)};var u=function(){var a,n,o=e(t).width(),u=e(t).height(),l=e("#tubular-player");o/i.ratio<u?(a=Math.ceil(u*i.ratio),l.width(a).height(u).css({left:(o-a)/2,top:0})):(n=Math.ceil(o/i.ratio),l.width(o).height(n).css({left:0,top:(u-n)/2}))};e(t).on("resize.tubular",function(){u()}),e("body").on("click","."+i.playButtonClass,function(e){e.preventDefault(),player.playVideo()}).on("click","."+i.pauseButtonClass,function(e){e.preventDefault(),player.pauseVideo()}).on("click","."+i.muteButtonClass,function(e){e.preventDefault(),player.isMuted()?player.unMute():player.mute()}).on("click","."+i.volumeDownClass,function(e){e.preventDefault();var t=player.getVolume();t<i.increaseVolumeBy&&(t=i.increaseVolumeBy),player.setVolume(t-i.increaseVolumeBy)}).on("click","."+i.volumeUpClass,function(e){e.preventDefault(),player.isMuted()&&player.unMute();var t=player.getVolume();t>100-i.increaseVolumeBy&&(t=100-i.increaseVolumeBy),player.setVolume(t+i.increaseVolumeBy)})},i=document.createElement("script");i.src="//www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o),e.fn.tubular=function(t){return this.each(function(){e.data(this,"tubular_instantiated")||e.data(this,"tubular_instantiated",n(this,t))})}}(jQuery,window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS50dWJ1bGFyLjEuMC5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZGVmYXVsdHMiLCJyYXRpbyIsInZpZGVvSWQiLCJtdXRlIiwicmVwZWF0Iiwid2lkdGgiLCJ3cmFwcGVyWkluZGV4IiwicGxheUJ1dHRvbkNsYXNzIiwicGF1c2VCdXR0b25DbGFzcyIsIm11dGVCdXR0b25DbGFzcyIsInZvbHVtZVVwQ2xhc3MiLCJ2b2x1bWVEb3duQ2xhc3MiLCJpbmNyZWFzZVZvbHVtZUJ5Iiwic3RhcnQiLCJ0dWJ1bGFyIiwibm9kZSIsIm9wdGlvbnMiLCJleHRlbmQiLCIkYm9keSIsIiRub2RlIiwiY3NzIiwiaGVpZ2h0IiwicHJlcGVuZCIsInBvc2l0aW9uIiwiei1pbmRleCIsInBsYXllciIsIm9uWW91VHViZUlmcmFtZUFQSVJlYWR5IiwiWVQiLCJQbGF5ZXIiLCJNYXRoIiwiY2VpbCIsInBsYXllclZhcnMiLCJjb250cm9scyIsInNob3dpbmZvIiwibW9kZXN0YnJhbmRpbmciLCJ3bW9kZSIsImV2ZW50cyIsIm9uUmVhZHkiLCJvblBsYXllclJlYWR5Iiwib25TdGF0ZUNoYW5nZSIsIm9uUGxheWVyU3RhdGVDaGFuZ2UiLCJlIiwicmVzaXplIiwidGFyZ2V0Iiwic2Vla1RvIiwicGxheVZpZGVvIiwic3RhdGUiLCJkYXRhIiwicFdpZHRoIiwicEhlaWdodCIsIiR0dWJ1bGFyUGxheWVyIiwibGVmdCIsInRvcCIsIm9uIiwicHJldmVudERlZmF1bHQiLCJwYXVzZVZpZGVvIiwiaXNNdXRlZCIsInVuTXV0ZSIsImN1cnJlbnRWb2x1bWUiLCJnZXRWb2x1bWUiLCJzZXRWb2x1bWUiLCJ0YWciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImZuIiwidGhpcyIsImVhY2giLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJD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RCxHQUFnQixJQUFNMUMsRUFBUUosbUJBQWtCOEMsRUFBZ0IsSUFBTTFDLEVBQVFKLGtCQUNsRmEsT0FBT21DLFVBQVVGLEVBQWdCMUMsRUFBUUoscUJBTTdDaUQsRUFBTUMsU0FBU0MsY0FBYyxTQUNqQ0YsR0FBSUcsSUFBTSw4QkFDVixJQUFJQyxHQUFpQkgsU0FBU0kscUJBQXFCLFVBQVUsRUFDN0RELEdBQWVFLFdBQVdDLGFBQWFQLEVBQUtJLEdBSTVDbkUsRUFBRXVFLEdBQUd2RCxRQUFVLFNBQVVFLEdBQ3JCLE1BQU9zRCxNQUFLQyxLQUFLLFdBQ1J6RSxFQUFFaUQsS0FBS3VCLEtBQU0seUJBQ2R4RSxFQUFFaUQsS0FBS3VCLEtBQU0sdUJBQ2J4RCxFQUFRd0QsS0FBTXRELFFBSzNCd0QsT0FBUXpFIiwiZmlsZSI6ImpxdWVyeS50dWJ1bGFyLjEuMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGpRdWVyeSB0dWJ1bGFyIHBsdWdpblxufCogYnkgU2VhbiBNY0NhbWJyaWRnZVxufCogaHR0cDovL3d3dy5zZWFubWNjYW1icmlkZ2UuY29tL3R1YnVsYXJcbnwqIHZlcnNpb246IDEuMFxufCogdXBkYXRlZDogT2N0b2JlciAxLCAyMDEyXG58KiBzaW5jZSAyMDEwXG58KiBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbnwqIEVuam95LlxufCogXG58KiBUaGFua3MsXG58KiBTZWFuICovXG5cbjsoZnVuY3Rpb24gKCQsIHdpbmRvdykge1xuXG4gICAgLy8gdGVzdCBmb3IgZmVhdHVyZSBzdXBwb3J0IGFuZCByZXR1cm4gaWYgZmFpbHVyZVxuICAgIFxuICAgIC8vIGRlZmF1bHRzXG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICByYXRpbzogMTYvOSwgLy8gdXN1YWxseSBlaXRoZXIgNC8zIG9yIDE2LzkgLS0gdHdlYWsgYXMgbmVlZGVkXG4gICAgICAgIHZpZGVvSWQ6ICdaQ0FuTHhSdk5OYycsIC8vIHRveSByb2JvdCBpbiBzcGFjZSBpcyBhIGdvb2QgZGVmYXVsdCwgbm8/XG4gICAgICAgIG11dGU6IHRydWUsXG4gICAgICAgIHJlcGVhdDogdHJ1ZSxcbiAgICAgICAgd2lkdGg6ICQod2luZG93KS53aWR0aCgpLFxuICAgICAgICB3cmFwcGVyWkluZGV4OiA5OSxcbiAgICAgICAgcGxheUJ1dHRvbkNsYXNzOiAndHVidWxhci1wbGF5JyxcbiAgICAgICAgcGF1c2VCdXR0b25DbGFzczogJ3R1YnVsYXItcGF1c2UnLFxuICAgICAgICBtdXRlQnV0dG9uQ2xhc3M6ICd0dWJ1bGFyLW11dGUnLFxuICAgICAgICB2b2x1bWVVcENsYXNzOiAndHVidWxhci12b2x1bWUtdXAnLFxuICAgICAgICB2b2x1bWVEb3duQ2xhc3M6ICd0dWJ1bGFyLXZvbHVtZS1kb3duJyxcbiAgICAgICAgaW5jcmVhc2VWb2x1bWVCeTogMTAsXG4gICAgICAgIHN0YXJ0OiAwXG4gICAgfTtcblxuICAgIC8vIG1ldGhvZHNcblxuICAgIHZhciB0dWJ1bGFyID0gZnVuY3Rpb24obm9kZSwgb3B0aW9ucykgeyAvLyBzaG91bGQgYmUgY2FsbGVkIG9uIHRoZSB3cmFwcGVyIGRpdlxuICAgICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyksXG4gICAgICAgICAgICAkYm9keSA9ICQoJ2JvZHknKSAvLyBjYWNoZSBib2R5IG5vZGVcbiAgICAgICAgICAgICRub2RlID0gJChub2RlKTsgLy8gY2FjaGUgd3JhcHBlciBub2RlXG5cbiAgICAgICAgLy8gYnVpbGQgY29udGFpbmVyXG4gICAgICAgIHZhciB0dWJ1bGFyQ29udGFpbmVyID0gJzxkaXYgaWQ9XCJ0dWJ1bGFyLWNvbnRhaW5lclwiIHN0eWxlPVwib3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IGZpeGVkOyB6LWluZGV4OiAxOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlXCI+PGRpdiBpZD1cInR1YnVsYXItcGxheWVyXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGVcIj48L2Rpdj48L2Rpdj48ZGl2IGlkPVwidHVidWxhci1zaGllbGRcIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHotaW5kZXg6IDI7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgdG9wOiAwO1wiPjwvZGl2Pic7XG5cbiAgICAgICAgLy8gc2V0IHVwIGNzcyBwcmVyZXEncywgaW5qZWN0IHR1YnVsYXIgY29udGFpbmVyIGFuZCBzZXQgdXAgd3JhcHBlciBkZWZhdWx0c1xuICAgICAgICAkKCdodG1sLGJvZHknKS5jc3Moeyd3aWR0aCc6ICcxMDAlJywgJ2hlaWdodCc6ICcxMDAlJ30pO1xuICAgICAgICAkYm9keS5wcmVwZW5kKHR1YnVsYXJDb250YWluZXIpO1xuICAgICAgICAkbm9kZS5jc3Moe3Bvc2l0aW9uOiAncmVsYXRpdmUnLCAnei1pbmRleCc6IG9wdGlvbnMud3JhcHBlclpJbmRleH0pO1xuXG4gICAgICAgIC8vIHNldCB1cCBpZnJhbWUgcGxheWVyLCB1c2UgZ2xvYmFsIHNjb3BlIHNvIFlUIGFwaSBjYW4gdGFsa1xuICAgICAgICB3aW5kb3cucGxheWVyO1xuICAgICAgICB3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHBsYXllciA9IG5ldyBZVC5QbGF5ZXIoJ3R1YnVsYXItcGxheWVyJywge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5jZWlsKG9wdGlvbnMud2lkdGggLyBvcHRpb25zLnJhdGlvKSxcbiAgICAgICAgICAgICAgICB2aWRlb0lkOiBvcHRpb25zLnZpZGVvSWQsXG4gICAgICAgICAgICAgICAgcGxheWVyVmFyczoge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sczogMCxcbiAgICAgICAgICAgICAgICAgICAgc2hvd2luZm86IDAsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVzdGJyYW5kaW5nOiAxLFxuICAgICAgICAgICAgICAgICAgICB3bW9kZTogJ3RyYW5zcGFyZW50J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgICdvblJlYWR5Jzogb25QbGF5ZXJSZWFkeSxcbiAgICAgICAgICAgICAgICAgICAgJ29uU3RhdGVDaGFuZ2UnOiBvblBsYXllclN0YXRlQ2hhbmdlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cub25QbGF5ZXJSZWFkeSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJlc2l6ZSgpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubXV0ZSkgZS50YXJnZXQubXV0ZSgpO1xuICAgICAgICAgICAgZS50YXJnZXQuc2Vla1RvKG9wdGlvbnMuc3RhcnQpO1xuICAgICAgICAgICAgZS50YXJnZXQucGxheVZpZGVvKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cub25QbGF5ZXJTdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuZGF0YSA9PT0gMCAmJiBvcHRpb25zLnJlcGVhdCkgeyAvLyB2aWRlbyBlbmRlZCBhbmQgcmVwZWF0IG9wdGlvbiBpcyBzZXQgdHJ1ZVxuICAgICAgICAgICAgICAgIHBsYXllci5zZWVrVG8ob3B0aW9ucy5zdGFydCk7IC8vIHJlc3RhcnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2l6ZSBoYW5kbGVyIHVwZGF0ZXMgd2lkdGgsIGhlaWdodCBhbmQgb2Zmc2V0IG9mIHBsYXllciBhZnRlciByZXNpemUvaW5pdFxuICAgICAgICB2YXIgcmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKSxcbiAgICAgICAgICAgICAgICBwV2lkdGgsIC8vIHBsYXllciB3aWR0aCwgdG8gYmUgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBwSGVpZ2h0LCAvLyBwbGF5ZXIgaGVpZ2h0LCB0YmRcbiAgICAgICAgICAgICAgICAkdHVidWxhclBsYXllciA9ICQoJyN0dWJ1bGFyLXBsYXllcicpO1xuXG4gICAgICAgICAgICAvLyB3aGVuIHNjcmVlbiBhc3BlY3QgcmF0aW8gZGlmZmVycyBmcm9tIHZpZGVvLCB2aWRlbyBtdXN0IGNlbnRlciBhbmQgdW5kZXJsYXkgb25lIGRpbWVuc2lvblxuXG4gICAgICAgICAgICBpZiAod2lkdGggLyBvcHRpb25zLnJhdGlvIDwgaGVpZ2h0KSB7IC8vIGlmIG5ldyB2aWRlbyBoZWlnaHQgPCB3aW5kb3cgaGVpZ2h0IChnYXAgdW5kZXJuZWF0aClcbiAgICAgICAgICAgICAgICBwV2lkdGggPSBNYXRoLmNlaWwoaGVpZ2h0ICogb3B0aW9ucy5yYXRpbyk7IC8vIGdldCBuZXcgcGxheWVyIHdpZHRoXG4gICAgICAgICAgICAgICAgJHR1YnVsYXJQbGF5ZXIud2lkdGgocFdpZHRoKS5oZWlnaHQoaGVpZ2h0KS5jc3Moe2xlZnQ6ICh3aWR0aCAtIHBXaWR0aCkgLyAyLCB0b3A6IDB9KTsgLy8gcGxheWVyIHdpZHRoIGlzIGdyZWF0ZXIsIG9mZnNldCBsZWZ0OyByZXNldCB0b3BcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIG5ldyB2aWRlbyB3aWR0aCA8IHdpbmRvdyB3aWR0aCAoZ2FwIHRvIHJpZ2h0KVxuICAgICAgICAgICAgICAgIHBIZWlnaHQgPSBNYXRoLmNlaWwod2lkdGggLyBvcHRpb25zLnJhdGlvKTsgLy8gZ2V0IG5ldyBwbGF5ZXIgaGVpZ2h0XG4gICAgICAgICAgICAgICAgJHR1YnVsYXJQbGF5ZXIud2lkdGgod2lkdGgpLmhlaWdodChwSGVpZ2h0KS5jc3Moe2xlZnQ6IDAsIHRvcDogKGhlaWdodCAtIHBIZWlnaHQpIC8gMn0pOyAvLyBwbGF5ZXIgaGVpZ2h0IGlzIGdyZWF0ZXIsIG9mZnNldCB0b3A7IHJlc2V0IGxlZnRcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXZlbnRzXG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplLnR1YnVsYXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlc2l6ZSgpO1xuICAgICAgICB9KVxuXG4gICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCcuJyArIG9wdGlvbnMucGxheUJ1dHRvbkNsYXNzLCBmdW5jdGlvbihlKSB7IC8vIHBsYXkgYnV0dG9uXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XG4gICAgICAgIH0pLm9uKCdjbGljaycsICcuJyArIG9wdGlvbnMucGF1c2VCdXR0b25DbGFzcywgZnVuY3Rpb24oZSkgeyAvLyBwYXVzZSBidXR0b25cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XG4gICAgICAgIH0pLm9uKCdjbGljaycsICcuJyArIG9wdGlvbnMubXV0ZUJ1dHRvbkNsYXNzLCBmdW5jdGlvbihlKSB7IC8vIG11dGUgYnV0dG9uXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAocGxheWVyLmlzTXV0ZWQoKSkgPyBwbGF5ZXIudW5NdXRlKCkgOiBwbGF5ZXIubXV0ZSgpO1xuICAgICAgICB9KS5vbignY2xpY2snLCAnLicgKyBvcHRpb25zLnZvbHVtZURvd25DbGFzcywgZnVuY3Rpb24oZSkgeyAvLyB2b2x1bWUgZG93biBidXR0b25cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Vm9sdW1lID0gcGxheWVyLmdldFZvbHVtZSgpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRWb2x1bWUgPCBvcHRpb25zLmluY3JlYXNlVm9sdW1lQnkpIGN1cnJlbnRWb2x1bWUgPSBvcHRpb25zLmluY3JlYXNlVm9sdW1lQnk7XG4gICAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKGN1cnJlbnRWb2x1bWUgLSBvcHRpb25zLmluY3JlYXNlVm9sdW1lQnkpO1xuICAgICAgICB9KS5vbignY2xpY2snLCAnLicgKyBvcHRpb25zLnZvbHVtZVVwQ2xhc3MsIGZ1bmN0aW9uKGUpIHsgLy8gdm9sdW1lIHVwIGJ1dHRvblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKHBsYXllci5pc011dGVkKCkpIHBsYXllci51bk11dGUoKTsgLy8gaWYgbXV0ZSBpcyBvbiwgdW5tdXRlXG4gICAgICAgICAgICB2YXIgY3VycmVudFZvbHVtZSA9IHBsYXllci5nZXRWb2x1bWUoKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Vm9sdW1lID4gMTAwIC0gb3B0aW9ucy5pbmNyZWFzZVZvbHVtZUJ5KSBjdXJyZW50Vm9sdW1lID0gMTAwIC0gb3B0aW9ucy5pbmNyZWFzZVZvbHVtZUJ5O1xuICAgICAgICAgICAgcGxheWVyLnNldFZvbHVtZShjdXJyZW50Vm9sdW1lICsgb3B0aW9ucy5pbmNyZWFzZVZvbHVtZUJ5KTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBsb2FkIHl0IGlmcmFtZSBqcyBhcGlcblxuICAgIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICB0YWcuc3JjID0gXCIvL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCI7XG4gICAgdmFyIGZpcnN0U2NyaXB0VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xuICAgIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZywgZmlyc3RTY3JpcHRUYWcpO1xuXG4gICAgLy8gY3JlYXRlIHBsdWdpblxuXG4gICAgJC5mbi50dWJ1bGFyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoISQuZGF0YSh0aGlzLCAndHVidWxhcl9pbnN0YW50aWF0ZWQnKSkgeyAvLyBsZXQncyBvbmx5IHJ1biBvbmVcbiAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgJ3R1YnVsYXJfaW5zdGFudGlhdGVkJywgXG4gICAgICAgICAgICAgICAgdHVidWxhcih0aGlzLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxufSkoalF1ZXJ5LCB3aW5kb3cpOyJdfQ==
